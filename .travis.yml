language: rust
rust:
  - stable
  - beta
  - nightly
matrix:
  allow_failures:
    - rust: nightly
script:
  - cargo build --verbose
  - cargo run -- testcases/simple_addition/addition.ohuao testcases/simple_addition/addition.type-dump testcases/simple_addition/src
  - cd testcases/simple_addition/ && cargo run && cd ../../
  - cargo run -- testcases/argument_clone/argument_clone.ohuao testcases/argument_clone/argument_clone.type-dump testcases/argument_clone/src/
  - cd testcases/argument_clone/ && cargo run && cd ../../
  - cargo run -- testcases/mainarg_clone/mainarg_cloning.ohuao testcases/mainarg_clone/mainarg_cloning.type-dump testcases/mainarg_clone/src/
  - cd testcases/mainarg_clone/ && cargo run && cd ../../
  - cargo run -- testcases/string_manipulation/string_manipulation.ohuao testcases/string_manipulation/string_manipulation.type-dump testcases/string_manipulation/src/
  - cd testcases/string_manipulation/ && cargo run && cd ../../
  - cargo run -- testcases/tuple_values/tuple_values.ohuao testcases/tuple_values/tuple_values.type-dump testcases/tuple_values/src/
  - cd testcases/tuple_values/ && cargo run && cd ../../
  - cargo run -- testcases/double_use/double_use.ohuao testcases/double_use/double_use.type-dump testcases/double_use/src/
  - cd testcases/double_use/ && cargo run && cd ../../

#   - cargo run -- testcases/custom_types/custom_types.ohuao testcases/custom_types/custom_types.type-dump testcases/custom_types/src/
#   - cd testcases/custom_types/ && cargo run && cd ../../
